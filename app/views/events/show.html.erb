
<p>
  <strong>Title:</strong>
  <%= @event.title %>
</p>

<p>
  <strong>Description:</strong>
  <%= @event.text %>
</p>

<p>
  <strong>Date:</strong>
  <%= @event.date %>
</p>

<p>
  <strong>Place:</strong>
  <%= @event.place %>
</p>

<%= render 'show_map', lat: @event.latitude, lng: @event.longitude %>

<p>
  <%= image_tag(@event.logo_url) if @event.logo? %>
</p>

<h2>Comments</h2>
<% @event.comments.each do |comment| %>
  <p>
    <strong>Commenter:</strong>
    <%= User.find(comment.user_id).email %>
  </p>

  <p>
    <strong>Comment:</strong>
    <%= comment.body %>
  </p>
<% end %>

<% if can? :create, Comment %>
  <h2>Add a comment:</h2>
  <%= form_with(model: [ @event, @event.comments.build ], local: true) do |form| %>
    <p>
      <%= form.label :body %><br>
      <%= form.text_area :body %>
      <%= form.hidden_field :user_id, :value => current_user.id %>
    </p>
    <p>
      <%= form.submit %>
    </p>
  <% end %>
<% end %>

<% if can? :update, @event %>
  <%= link_to 'Edit', edit_event_path(@event) %> |
<% end %>
<%= link_to 'Back', events_path %>
